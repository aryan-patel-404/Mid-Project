<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Crimes in London</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./Home.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">Redesign 1</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./Case2.html" aria-current="page"> 
<span class="menu-text">Redesign 2</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Codes.html"> 
<span class="menu-text">Codes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./video.html"> 
<span class="menu-text">Video</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">About Us</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/aryan-patel-404">
            Aryan Profile
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/Rithvikmadhavaram">
            Rithvik Profile
            </a>
          </li>
      </ul>
    </div>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#line-plot" id="toc-line-plot" class="nav-link active" data-scroll-target="#line-plot">Line Plot</a></li>
  <li><a href="#comapring-the-line-plot-to-donut-charts" id="toc-comapring-the-line-plot-to-donut-charts" class="nav-link" data-scroll-target="#comapring-the-line-plot-to-donut-charts">Comapring the Line plot to Donut Charts</a>
  <ul class="collapse">
  <li><a href="#heat-map" id="toc-heat-map" class="nav-link" data-scroll-target="#heat-map">Heat Map</a></li>
  </ul></li>
  <li><a href="#comapring-the-heat-map-to-donut-charts" id="toc-comapring-the-heat-map-to-donut-charts" class="nav-link" data-scroll-target="#comapring-the-heat-map-to-donut-charts">Comapring the Heat Map to Donut Charts</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#reference" id="toc-reference" class="nav-link" data-scroll-target="#reference">Reference</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Crimes in London</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>For this case Let’s Consider the below data Visualization of “Categories of Crime in London boroughs”</p>
<p><img src="London Crimes.png" class="img-fluid"></p>
<p>Source : https://sharkcoder.com/data-visualization/mpl-pie-charts</p>
<p>Donut charts depicting the distribution of crimes in nine London boroughs—Barnet, Bexley, Brent, Bromley, Camden, City of London, and Croydon—are displayed in the image. With colors indicated in the legend, each chart is divided into seven crime categories: robbery, theft and handling, drugs, burglary, criminal damage, robbery, and violence against the person. Theft and Handling and Violence Against the Person are the most noticeable categories in many boroughs; they are shown in red and light red, respectively. There is a noticeable difference in crime rates between the City of London and boroughs such as Barnet, Brent, and Croydon. Notable parts for burglary and criminal damage are also displayed in some regions, such as Bexley and Bromley.</p>
<p>By this we can produce better graphics or redesigning of the above data in Line plot and Heat Map.</p>
<p>Loading Libraries</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lattice)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
<p>Enter the data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>Barking_and_Dagenham <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1694</span>, <span class="dv">7160</span>, <span class="dv">5732</span>, <span class="dv">1846</span>, <span class="dv">3696</span>, <span class="dv">2060</span>, <span class="dv">1324</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>Barnet <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="dv">3052</span>, <span class="dv">13396</span>, <span class="dv">10492</span>, <span class="dv">3511</span>, <span class="dv">6925</span>, <span class="dv">3660</span>, <span class="dv">2465</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>Bexley <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1956</span>, <span class="dv">8787</span>, <span class="dv">7170</span>, <span class="dv">2439</span>, <span class="dv">4731</span>, <span class="dv">2534</span>, <span class="dv">1614</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>Brent <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2667</span>, <span class="dv">10865</span>, <span class="dv">9014</span>, <span class="dv">2882</span>, <span class="dv">5655</span>, <span class="dv">3642</span>, <span class="dv">2249</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>Bromley <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2770</span>, <span class="dv">12289</span>, <span class="dv">9646</span>, <span class="dv">3347</span>, <span class="dv">6454</span>, <span class="dv">3225</span>, <span class="dv">2251</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>Camden <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2152</span>, <span class="dv">8676</span>, <span class="dv">6705</span>, <span class="dv">2303</span>, <span class="dv">4370</span>, <span class="dv">2652</span>, <span class="dv">1794</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>City_of_London <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">254</span>, <span class="dv">214</span>, <span class="dv">48</span>, <span class="dv">85</span>, <span class="dv">69</span>, <span class="dv">34</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>Croydon <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3394</span>, <span class="dv">13695</span>, <span class="dv">11127</span>, <span class="dv">3561</span>, <span class="dv">7270</span>, <span class="dv">4143</span>, <span class="dv">2328</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>cities <span class="ot">&lt;-</span> <span class="fu">cbind</span>(Barking_and_Dagenham, Barnet, Bexley, Brent, Bromley, Camden, City_of_London, Croydon)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>cities</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Barking_and_Dagenham Barnet Bexley Brent Bromley Camden City_of_London
[1,]                 1694   3052   1956  2667    2770   2152             50
[2,]                 7160  13396   8787 10865   12289   8676            254
[3,]                 5732  10492   7170  9014    9646   6705            214
[4,]                 1846   3511   2439  2882    3347   2303             48
[5,]                 3696   6925   4731  5655    6454   4370             85
[6,]                 2060   3660   2534  3642    3225   2652             69
[7,]                 1324   2465   1614  2249    2251   1794             34
     Croydon
[1,]    3394
[2,]   13695
[3,]   11127
[4,]    3561
[5,]    7270
[6,]    4143
[7,]    2328</code></pre>
</div>
</div>
<p>Add row and coloumn labels:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>crime <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="st">"Robbery"</span>, <span class="st">"Theft and Handling"</span>,</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>           <span class="st">"Violence against person"</span>, <span class="st">"Burglary"</span>, <span class="st">"Criminal Damage"</span>, <span class="st">"Drugs"</span>, <span class="st">"Other Offences"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>city <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Barking_and_Dagenham"</span>, <span class="st">"Barnet"</span>, <span class="st">"Bexley"</span>, <span class="st">"Brent"</span>, <span class="st">"Bromley"</span>, <span class="st">"Camden"</span>, <span class="st">"City_of_London"</span>, <span class="st">"Croydon"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(cities) <span class="ot">&lt;-</span> city</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(cities) <span class="ot">&lt;-</span> crime</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>cities</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                        Barking_and_Dagenham Barnet Bexley Brent Bromley Camden
Robbery                                 1694   3052   1956  2667    2770   2152
Theft and Handling                      7160  13396   8787 10865   12289   8676
Violence against person                 5732  10492   7170  9014    9646   6705
Burglary                                1846   3511   2439  2882    3347   2303
Criminal Damage                         3696   6925   4731  5655    6454   4370
Drugs                                   2060   3660   2534  3642    3225   2652
Other Offences                          1324   2465   1614  2249    2251   1794
                        City_of_London Croydon
Robbery                             50    3394
Theft and Handling                 254   13695
Violence against person            214   11127
Burglary                            48    3561
Criminal Damage                     85    7270
Drugs                               69    4143
Other Offences                      34    2328</code></pre>
</div>
</div>
<p>It is now in matrix form where Coloumns are City Names and Rows are Type of Crimes.</p>
<p>Arranging data in descending Order by taking mean.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>typeMeans <span class="ot">&lt;-</span> <span class="fu">rowMeans</span>(cities)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>(typeOrd <span class="ot">&lt;-</span> <span class="fu">order</span>(<span class="sc">-</span>typeMeans))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 3 5 6 4 1 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(cities,typeMeans)[typeOrd,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                        Barking_and_Dagenham Barnet Bexley Brent Bromley Camden
Theft and Handling                      7160  13396   8787 10865   12289   8676
Violence against person                 5732  10492   7170  9014    9646   6705
Criminal Damage                         3696   6925   4731  5655    6454   4370
Drugs                                   2060   3660   2534  3642    3225   2652
Burglary                                1846   3511   2439  2882    3347   2303
Robbery                                 1694   3052   1956  2667    2770   2152
Other Offences                          1324   2465   1614  2249    2251   1794
                        City_of_London Croydon typeMeans
Theft and Handling                 254   13695  9390.250
Violence against person            214   11127  7512.500
Criminal Damage                     85    7270  4898.250
Drugs                               69    4143  2748.125
Burglary                            48    3561  2492.125
Robbery                             50    3394  2216.875
Other Offences                      34    2328  1757.375</code></pre>
</div>
</div>
<p>Converting Matrix into dataframe;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>London_crimes <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(cities) </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>London_crimes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                        Barking_and_Dagenham Barnet Bexley Brent Bromley Camden
Robbery                                 1694   3052   1956  2667    2770   2152
Theft and Handling                      7160  13396   8787 10865   12289   8676
Violence against person                 5732  10492   7170  9014    9646   6705
Burglary                                1846   3511   2439  2882    3347   2303
Criminal Damage                         3696   6925   4731  5655    6454   4370
Drugs                                   2060   3660   2534  3642    3225   2652
Other Offences                          1324   2465   1614  2249    2251   1794
                        City_of_London Croydon
Robbery                             50    3394
Theft and Handling                 254   13695
Violence against person            214   11127
Burglary                            48    3561
Criminal Damage                     85    7270
Drugs                               69    4143
Other Offences                      34    2328</code></pre>
</div>
</div>
<p>Adding new Coloumns of rownames;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>types <span class="ot">=</span> <span class="fu">rownames</span>(London_crimes)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>London_crimes<span class="sc">$</span>Types <span class="ot">=</span> <span class="fu">factor</span>(types, <span class="at">ordered =</span> T, <span class="at">levels =</span> <span class="fu">rev</span>(types) )</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>London_crimes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                        Barking_and_Dagenham Barnet Bexley Brent Bromley Camden
Robbery                                 1694   3052   1956  2667    2770   2152
Theft and Handling                      7160  13396   8787 10865   12289   8676
Violence against person                 5732  10492   7170  9014    9646   6705
Burglary                                1846   3511   2439  2882    3347   2303
Criminal Damage                         3696   6925   4731  5655    6454   4370
Drugs                                   2060   3660   2534  3642    3225   2652
Other Offences                          1324   2465   1614  2249    2251   1794
                        City_of_London Croydon                   Types
Robbery                             50    3394                 Robbery
Theft and Handling                 254   13695      Theft and Handling
Violence against person            214   11127 Violence against person
Burglary                            48    3561                Burglary
Criminal Damage                     85    7270         Criminal Damage
Drugs                               69    4143                   Drugs
Other Offences                      34    2328          Other Offences</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(London_crimes) <span class="ot">=</span> <span class="cn">NULL</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>London_crimes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Barking_and_Dagenham Barnet Bexley Brent Bromley Camden City_of_London
1                 1694   3052   1956  2667    2770   2152             50
2                 7160  13396   8787 10865   12289   8676            254
3                 5732  10492   7170  9014    9646   6705            214
4                 1846   3511   2439  2882    3347   2303             48
5                 3696   6925   4731  5655    6454   4370             85
6                 2060   3660   2534  3642    3225   2652             69
7                 1324   2465   1614  2249    2251   1794             34
  Croydon                   Types
1    3394                 Robbery
2   13695      Theft and Handling
3   11127 Violence against person
4    3561                Burglary
5    7270         Criminal Damage
6    4143                   Drugs
7    2328          Other Offences</code></pre>
</div>
</div>
<p>Now make an indexed data.frame that stacks the race column values</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>London_crimesType <span class="ot">&lt;-</span> <span class="fu">gather</span>(London_crimes, <span class="at">key =</span> city, <span class="at">value =</span> count,Barking_and_Dagenham<span class="sc">:</span>Croydon,</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">factor_key =</span> T)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>London_crimesType</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     Types                 city count
1                  Robbery Barking_and_Dagenham  1694
2       Theft and Handling Barking_and_Dagenham  7160
3  Violence against person Barking_and_Dagenham  5732
4                 Burglary Barking_and_Dagenham  1846
5          Criminal Damage Barking_and_Dagenham  3696
6                    Drugs Barking_and_Dagenham  2060
7           Other Offences Barking_and_Dagenham  1324
8                  Robbery               Barnet  3052
9       Theft and Handling               Barnet 13396
10 Violence against person               Barnet 10492
11                Burglary               Barnet  3511
12         Criminal Damage               Barnet  6925
13                   Drugs               Barnet  3660
14          Other Offences               Barnet  2465
15                 Robbery               Bexley  1956
16      Theft and Handling               Bexley  8787
17 Violence against person               Bexley  7170
18                Burglary               Bexley  2439
19         Criminal Damage               Bexley  4731
20                   Drugs               Bexley  2534
21          Other Offences               Bexley  1614
22                 Robbery                Brent  2667
23      Theft and Handling                Brent 10865
24 Violence against person                Brent  9014
25                Burglary                Brent  2882
26         Criminal Damage                Brent  5655
27                   Drugs                Brent  3642
28          Other Offences                Brent  2249
29                 Robbery              Bromley  2770
30      Theft and Handling              Bromley 12289
31 Violence against person              Bromley  9646
32                Burglary              Bromley  3347
33         Criminal Damage              Bromley  6454
34                   Drugs              Bromley  3225
35          Other Offences              Bromley  2251
36                 Robbery               Camden  2152
37      Theft and Handling               Camden  8676
38 Violence against person               Camden  6705
39                Burglary               Camden  2303
40         Criminal Damage               Camden  4370
41                   Drugs               Camden  2652
42          Other Offences               Camden  1794
43                 Robbery       City_of_London    50
44      Theft and Handling       City_of_London   254
45 Violence against person       City_of_London   214
46                Burglary       City_of_London    48
47         Criminal Damage       City_of_London    85
48                   Drugs       City_of_London    69
49          Other Offences       City_of_London    34
50                 Robbery              Croydon  3394
51      Theft and Handling              Croydon 13695
52 Violence against person              Croydon 11127
53                Burglary              Croydon  3561
54         Criminal Damage              Croydon  7270
55                   Drugs              Croydon  4143
56          Other Offences              Croydon  2328</code></pre>
</div>
</div>
<section id="line-plot" class="level2">
<h2 class="anchored" data-anchor-id="line-plot">Line Plot</h2>
<p>Using lattice package, Let’s plot above data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(London_crimesType, <span class="fu">aes</span>(<span class="at">x=</span> count,<span class="at">y=</span>Types,<span class="at">fill =</span> city,<span class="at">group =</span> city)) <span class="sc">+</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="fl">2.8</span>) <span class="sc">+</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> city)) <span class="sc">+</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Count"</span>,<span class="at">y=</span><span class="st">""</span>,<span class="at">title =</span> <span class="st">"Categories of Crime in London boroughs"</span>)<span class="sc">+</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>city)<span class="sc">+</span> <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">14000</span>,<span class="at">by=</span><span class="dv">1000</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Case2_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The above data is represented in the form of Line Graph</p>
<p><img src="Plot1.png" class="img-fluid"></p>
</section>
<section id="comapring-the-line-plot-to-donut-charts" class="level1">
<h1>Comapring the Line plot to Donut Charts</h1>
<p>The Line plot provides a detailed view of crime categories across London boroughs, illustrating crime counts with distinct points and connecting lines. This style makes it simple to compare patterns and trends, making it possible for users to recognize outliers and discover changes. A pie chart, on the other hand, usually displays the proportions of various sorts of crimes for a single borough, which limits its usefulness for comparative study across several categories.</p>
<p>A Donut chart can seem complex when there are many categories, but a line plot can clearly handle a large number of data points. donut charts are static, thus they are not very good at depicting trends over time, which is another area where line plots shine. Overall, pie charts work better for showing basic proportions within a particular context, whereas line plots are better suited for in-depth quantitative analysis and cross-borough comparisons.</p>
<section id="heat-map" class="level2">
<h2 class="anchored" data-anchor-id="heat-map">Heat Map</h2>
<p>Creating Heat map</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(London_crimesType, <span class="fu">aes</span>(<span class="at">x =</span> city, <span class="at">y =</span> Types, <span class="at">fill =</span> count)) <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"yellow"</span>, <span class="at">high =</span> <span class="st">"red"</span>) <span class="sc">+</span> </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"London Boroughs"</span>, <span class="at">y =</span> <span class="st">"Crime Types"</span>, <span class="at">title =</span> <span class="st">"Crime Categories Across London Boroughs"</span>) <span class="sc">+</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Case2_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The above graph represents the given data in Heat Map form.</p>
</section>
</section>
<section id="comapring-the-heat-map-to-donut-charts" class="level1">
<h1>Comapring the Heat Map to Donut Charts</h1>
<p>The donut charts help viewers understand the precise composition of crimes in diverse locations by efficiently illustrating the proportional distribution of different crime kinds within each borough. The segmented nature of the charts makes it difficult to compare the overall crime rates of several boroughs, even while they help to clearly grasp the various crime categories for individual boroughs.</p>
<p>On the other hand, a heat map uses color gradients to give a broad picture of crime intensity; higher crime rates are shown by deeper hues. This makes it possible to compare boroughs visually quickly, which facilitates the process of quickly determining which areas have higher crime rates.</p>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>The three graphs provide different levels of insight into crimes in London. Donut charts are effective for displaying the overall different crime categories within a single borough. However, because of their segmented design, which can cause clutter and make it challenging to combine information, they become less useful when comparing various boroughs.</p>
<p>Line graphs, on the other hand, excel at depicting trends over time, making them excellent for assessing crime rates in specific categories. On the other hand, heat maps provide a thorough picture of the amount of crime in several boroughs by employing color gradients to show different crime rates, with darker hues denoting higher crime rates.</p>
</section>
<section id="reference" class="level1">
<h1>Reference</h1>
<p>[1] Shark Coder,“Matplotlib Pie Charts”,Availale: https://sharkcoder.com/data-visualization/mpl-pie-charts. [Accessed: October 5,2024]. [2] STAT 515, “Redesigning Examples”, Dr.&nbsp;Isuru Dassanayake, Available: https://canvas.gmu.edu/courses/25180/files/folder/Module%204?. [Accessed: October5,2024]</p>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>